# Metaverse Frontend (Фронтенд)

Фронтенд‑UI для управления метавселенными в Universo Platformo.

## Обзор

Этот пакет предоставляет базовую страницу управления метавселенными (MVP):

-   Список доступных пользователю метавселенных (через членство или публичную видимость)
-   Поиск по названию
-   Создание новой метавселенной (владелец добавляется автоматически)

Страница интегрирована в основной UI:

-   Левое меню: «Метавселенные» ниже Uniboard
-   Маршрут: `/metaverses` (защищён Auth)

## i18n

Модуль регистрирует пакет переводов (EN/RU) в глобальном i18n при инициализации UI. Ключи, используемые на странице списка:

-   Пространство имён: `metaverse`
-   `list.title`, `list.searchPlaceholder`, `list.create`, `list.newName`

## Использование

-   Страница подгружается лениво через роутер хост‑приложения; прямой импорт не требуется.
-   На сервере должны быть доступны эндпоинты:
    -   `GET /api/v1/metaverses` — список
    -   `POST /api/v1/metaverses` — создание

## Сборка

-   Двойная сборка (CJS + ESM) по аналогии с другими фронтенд‑пакетами для лучшего бандлинга:
    -   `tsconfig.json` → CJS‑выход в `dist/`
    -   `tsconfig.esm.json` → ESM‑выход в `dist/esm/`
-   Gulp копирует статические ассеты и JSON‑локали после компиляции.

## Команды

-   `pnpm build` — компиляция TS (CJS + ESM) и копирование ассетов через gulp
-   `pnpm dev` — watch TypeScript (без копирования ассетов)
-   `pnpm lint` — проверка ESLint

## Примечания

-   Используется общий авторизованный API‑клиент; он прокидывает заголовок Authorization и выполняет refresh при 401.
-   Секреты в пакете не хранятся; доступы контролируются на сервере через RLS (по членству и видимости).
-   Будущие задачи: управление членством (роли), переключение «дефолтной» метавселенной, редактор связей (создание/удаление/визуализация).
