# Uniks Frontend (uniks-frt)

Фронтенд-приложение для управления рабочими пространствами в экосистеме Universo Platformo.

> Обновление Q3 2025: UI синхронизирован с новой бэкенд-архитектурой (схема `uniks`, расширенные роли `owner/admin/editor/member`, гибридная аутентификация Passport.js + Supabase, контроль доступа на базе членства).

## Обзор

Приложение Uniks Frontend предоставляет удобный интерфейс для создания, управления и организации рабочих пространств. Оно предлагает возможности листинга, создания, редактирования и управления участниками рабочих пространств с полной поддержкой интернационализации.

## Ключевые возможности

- **Управление рабочими пространствами**: Создание / редактирование / удаление (с проверкой роли)
- **Участники**: Добавление / удаление, отображение ролей в реальном времени
- **Расширенные роли**: UI адаптируется к `owner/admin/editor/member`
- **Адаптивный интерфейс**: Material-UI
- **Интернационализация**: Полный паритет EN/RU
- **Интеграция навигации**: Общая платформа маршрутизации

## Структура

```
src/
├── i18n/           # Ресурсы интернационализации
│   ├── locales/    # Языко-специфичные переводы
│   └── index.js    # Конфигурация i18n
├── pages/          # React компоненты страниц
│   ├── UnikList.jsx    # Страница списка рабочих пространств
│   ├── UnikDetail.jsx  # Детальный вид рабочего пространства
│   └── UnikDialog.jsx  # Диалог создания/редактирования рабочего пространства
├── menu-items/     # Конфигурация меню
│   └── unikDashboard.js # Элементы меню дашборда
└── index.js        # Точка входа приложения
```

## Компоненты

### UnikList.jsx

Основная страница списка рабочих пространств, которая отображает все рабочие пространства пользователя с возможностями фильтрации и поиска.

### UnikDetail.jsx

Детальный вид конкретного рабочего пространства, показывающий информацию о рабочем пространстве и управление участниками.

### UnikDialog.jsx

Модальный диалог для создания новых рабочих пространств или редактирования существующих.

## Интернационализация

Приложение поддерживает несколько языков через систему i18n:

-   **Английский**: Язык по умолчанию с полными переводами
-   **Русский**: Полная русская локализация

Ключи переводов организованы под пространством имен `uniks`.

## Интеграция

Приложение интегрируется со слоями платформы:

- **Основной UI пакет**: Общий shell/макет
- **Uniks Backend**: Вызовы эндпоинтов `@universo/uniks-srv` (ограничены ролями)
- **Гибридная аутентификация**: Passport.js сессия + Supabase identity
- **Hooks доступа**: Производные возможности из данных членства

## Разработка

### Предварительные требования

-   Node.js 18+
-   Менеджер пакетов PNPM
-   Доступ к workspace Universo Platformo

### Установка

```bash
# Установка зависимостей
pnpm install

# Сборка приложения
pnpm build

# Запуск в режиме разработки
pnpm dev
```

### Команды сборки

```bash
# Сборка для продакшена
pnpm build

# Сборка в режиме наблюдения
pnpm dev

# Сборка конкретных компонентов
pnpm build --filter @universo/uniks-frt
```

## Конфигурация

Приложение использует следующую конфигурацию:

-   **TypeScript**: Включена строгая проверка типов
-   **Material-UI**: Библиотека компонентов для UI элементов
-   **i18next**: Фреймворк интернационализации
-   **React**: Фронтенд фреймворк

## Зависимости

### Основные зависимости

-   `react`: Фронтенд фреймворк
-   `@mui/material`: Библиотека компонентов Material-UI
-   `@mui/icons-material`: Иконки Material-UI
-   `i18next`: Фреймворк интернационализации
-   `react-i18next`: React интеграция для i18next

### Зависимости разработки

-   `typescript`: TypeScript компилятор
-   `@types/react`: TypeScript определения для React
-   `gulp`: Инструмент сборки для обработки ассетов

## API интеграция

Взаимодействие через общие утилиты API платформы:

- CRUD рабочих пространств (сервер использует schema-qualified доступ)
- Операции с членством (листинг, добавление, изменение ролей)
- Производные роли → условный рендер UI
- Сессия (Passport.js) + identity (Supabase)

## Вклад в разработку

Рекомендации:

1. Сохраняйте ролевую условную логику (не хардкодить строки ролей вне констант)
2. Поддерживайте паритет i18n (никаких "забытых" строк)
3. Логику сетевых запросов держать в hooks/сервисах (не в компонентах)
4. Не предполагать структуру membership вручную — использовать экспортируемые типы
5. Соблюдать доступность (фокус в диалогах, aria-атрибуты)

## Тестирование

Рекомендуемые зоны покрытия:

- Рендер списка (пусто / данные / фильтр)
- Отображение бейджей ролей
- Условные элементы действий по ролям (кнопки, меню)
- Валидация и отправка форм в диалогах

Запуск тестов (если настроено):

```bash
pnpm --filter @universo/uniks-frt test
```

Если тестового окружения нет — добавить `src/__tests__/` с React Testing Library.

## Связанная документация

-   [Документация основных приложений](../README-RU.md)
-   [Документация Uniks Backend](../uniks-srv/base/README-RU.md)
-   [Архитектура платформы](../../../docs/ru/applications/README.md)

---

**Universo Platformo | Приложение Uniks Frontend**
