# Приложения Resources

Подсистема Resources состоит из серверного сервиса (`resources-srv`) и фронтенд‑приложения (`resources-frt`). Реализована трёхуровневая модель с жёсткой изоляцией по кластерам.

## Архитектура

- **Кластеры** — верхний уровень изоляции; между кластерами нет доступа к данным.
- **Домены** — логические группы внутри кластера; обязательная привязка к кластеру.
- **Ресурсы** — отдельные сущности; обязательная привязка к домену.
- **Связи** — таблицы многие‑ко‑многим для пар кластер–ресурс, домен–ресурс и кластер–домен с CASCADE и UNIQUE.

## API
Полный список эндпоинтов: [apps/resources-srv/base/README.md](../../../../apps/resources-srv/base/README.md).

## Безопасность
- Проверки доступа на уровне приложения (guards) защищают все CRUD и операции связывания, предотвращая IDOR и межкластерные утечки.
- Политики RLS в БД используются как дополнительный рубеж; при подключении через TypeORM без прокидывания JWT‑контекста они не активны.
- На `/resources`, `/clusters` и `/domains` включён rate‑limit. Через Helmet применяются HTTP‑заголовки безопасности.

## Разработка
```bash
pnpm --filter @universo/resources-srv build
pnpm --filter @universo/resources-frt build
```
