---
description: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ –æ—Ç–≤–µ—Ç–∞—Ö.
---

# –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä

> **üìã –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ**: –î–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Flowise –∏ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –¥–ª—è Universo Platformo React. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑–¥–µ–ª—ã –º–æ–≥—É—Ç –≤—Å–µ –µ—â–µ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å Flowise, –∫–æ—Ç–æ—Ä–∞—è –µ—â–µ –Ω–µ –±—ã–ª–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π Universo Platformo.

> **üîÑ –°—Ç–∞—Ç—É—Å –ø–µ—Ä–µ–≤–æ–¥–∞**: –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø–µ—Ä–µ–≤–µ–¥–µ–Ω —Å –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ—Ü–µ—Å—Å –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –¥–ª—è —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏. –ï—Å–ª–∏ –≤—ã –∑–∞–º–µ—Ç–∏–ª–∏ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏ –≤ –ø–µ—Ä–µ–≤–æ–¥–µ –∏–ª–∏ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

<figure><img src="../../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (2).png" alt="" width="302"><figcaption><p>–£–∑–µ–ª –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞</p></figcaption></figure>

## –û–±–∑–æ—Ä

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä" –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≥–µ–Ω—Ç–∞–º –≤—ã–ø–æ–ª–Ω—è—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏ —Ä–µ—à–∞—Ç—å –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏. –≠—Ç–æ –æ–¥–∏–Ω –∏–∑ –Ω–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —á–∏—Å–ª–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–°–ª–æ–∂–µ–Ω–∏–µ** (+): `2 + 3 = 5`
- **–í—ã—á–∏—Ç–∞–Ω–∏–µ** (-): `10 - 4 = 6`
- **–£–º–Ω–æ–∂–µ–Ω–∏–µ** (*): `7 * 8 = 56`
- **–î–µ–ª–µ–Ω–∏–µ** (/): `15 / 3 = 5`
- **–í–æ–∑–≤–µ–¥–µ–Ω–∏–µ –≤ —Å—Ç–µ–ø–µ–Ω—å** (**): `2 ** 3 = 8`
- **–û—Å—Ç–∞—Ç–æ–∫ –æ—Ç –¥–µ–ª–µ–Ω–∏—è** (%): `17 % 5 = 2`

### 2. –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–π –∫–æ—Ä–µ–Ω—å**: `sqrt(16) = 4`
- **–¢—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏**: `sin(œÄ/2) = 1`
- **–õ–æ–≥–∞—Ä–∏—Ñ–º—ã**: `log(100) = 2`
- **–≠–∫—Å–ø–æ–Ω–µ–Ω—Ç–∞**: `exp(1) = 2.718...`
- **–ê–±—Å–æ–ª—é—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**: `abs(-5) = 5`

### 3. –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- **œÄ (–ø–∏)**: `3.14159...`
- **e (—á–∏—Å–ª–æ –≠–π–ª–µ—Ä–∞)**: `2.71828...`
- **–ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å**: `inf`

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```yaml
calculator:
  name: "Calculator"
  description: "–í—ã–ø–æ–ª–Ω—è–µ—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è"
  enabled: true
  timeout: 10
  precision: 10  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∞–≥–µ–Ω—Ç–æ–º

```python
from langchain.agents import initialize_agent
from langchain.tools import Tool
from langchain.utilities import Calculator

# –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
calculator = Calculator()
calculator_tool = Tool(
    name="Calculator",
    description="–ü–æ–ª–µ–∑–µ–Ω –¥–ª—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π. –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º.",
    func=calculator.run
)

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫ –∞–≥–µ–Ω—Ç—É
tools = [calculator_tool]
agent = initialize_agent(
    tools=tools,
    llm=llm,
    agent_type="zero-shot-react-description"
)
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ü—Ä–æ—Å—Ç—ã–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

```python
# –ü—Ä–∏–º–µ—Ä –¥–∏–∞–ª–æ–≥–∞ —Å –∞–≥–µ–Ω—Ç–æ–º
user: "–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 25 * 4 + 17?"

agent_thought: "–ú–Ω–µ –Ω—É–∂–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å —ç—Ç–æ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ."
action: Calculator
action_input: "25 * 4 + 17"
observation: "117"

agent_response: "25 * 4 + 17 = 117"
```

### 2. –°–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

```python
user: "–ù–∞–π–¥–∏ –ø–ª–æ—â–∞–¥—å –∫—Ä—É–≥–∞ —Å —Ä–∞–¥–∏—É—Å–æ–º 7 –º–µ—Ç—Ä–æ–≤"

agent_thought: "–ü–ª–æ—â–∞–¥—å –∫—Ä—É–≥–∞ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ œÄ * r¬≤"
action: Calculator  
action_input: "3.14159 * 7 ** 2"
observation: "153.93791"

agent_response: "–ü–ª–æ—â–∞–¥—å –∫—Ä—É–≥–∞ —Å —Ä–∞–¥–∏—É—Å–æ–º 7 –º–µ—Ç—Ä–æ–≤ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ 153.94 –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö –º–µ—Ç—Ä–∞."
```

### 3. –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ä–∞—Å—á–µ—Ç—ã

```python
user: "–ï—Å–ª–∏ —è –∏–Ω–≤–µ—Å—Ç–∏—Ä—É—é 1000 –¥–æ–ª–ª–∞—Ä–æ–≤ –ø–æ–¥ 5% –≥–æ–¥–æ–≤—ã—Ö –Ω–∞ 3 –≥–æ–¥–∞, —Å–∫–æ–ª—å–∫–æ –ø–æ–ª—É—á—É?"

agent_thought: "–≠—Ç–æ —Ä–∞—Å—á–µ—Ç —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤: A = P(1 + r)^t"
action: Calculator
action_input: "1000 * (1 + 0.05) ** 3"
observation: "1157.625"

agent_response: "–ü—Ä–∏ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ 1000 –¥–æ–ª–ª–∞—Ä–æ–≤ –ø–æ–¥ 5% –≥–æ–¥–æ–≤—ã—Ö –Ω–∞ 3 –≥–æ–¥–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ 1157.63 –¥–æ–ª–ª–∞—Ä–∞."
```

### 4. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è

```python
user: "–°–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –≤ –Ω–µ–¥–µ–ª–µ?"

agent_thought: "–í –Ω–µ–¥–µ–ª–µ 7 –¥–Ω–µ–π, –≤ –¥–Ω–µ 24 —á–∞—Å–∞, –≤ —á–∞—Å–µ 60 –º–∏–Ω—É—Ç, –≤ –º–∏–Ω—É—Ç–µ 60 —Å–µ–∫—É–Ω–¥"
action: Calculator
action_input: "7 * 24 * 60 * 60"
observation: "604800"

agent_response: "–í –Ω–µ–¥–µ–ª–µ 604,800 —Å–µ–∫—É–Ω–¥."
```

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –†–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏

```python
# –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
expressions = {
    "revenue": "1000000",
    "costs": "750000", 
    "profit": "revenue - costs",
    "margin": "profit / revenue * 100"
}

for name, expr in expressions.items():
    result = calculator.run(expr)
    print(f"{name}: {result}")
```

### 2. –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

```python
# –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
import statistics

class AdvancedCalculator:
    def calculate(self, expression):
        # –ë–∞–∑–æ–≤—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
        if any(op in expression for op in ['+', '-', '*', '/', '**']):
            return eval(expression)
        
        # –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
        if expression.startswith('mean('):
            data = self.parse_list(expression)
            return statistics.mean(data)
        
        if expression.startswith('median('):
            data = self.parse_list(expression)
            return statistics.median(data)
        
        if expression.startswith('stdev('):
            data = self.parse_list(expression)
            return statistics.stdev(data)
    
    def parse_list(self, expression):
        # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —á–∏—Å–µ–ª –∏–∑ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
        content = expression[expression.find('(')+1:expression.find(')')]
        return [float(x.strip()) for x in content.split(',')]
```

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```python
class SafeCalculator:
    def __init__(self):
        self.max_result = 1e10  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        self.timeout = 5        # –¢–∞–π–º–∞—É—Ç –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
    
    def calculate(self, expression):
        try:
            # –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è
            if not self.is_safe_expression(expression):
                return "–û—à–∏–±–∫–∞: –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ"
            
            # –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å —Ç–∞–π–º–∞—É—Ç–æ–º
            result = self.evaluate_with_timeout(expression)
            
            # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            if abs(result) > self.max_result:
                return "–û—à–∏–±–∫–∞: –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π"
            
            return str(result)
            
        except ZeroDivisionError:
            return "–û—à–∏–±–∫–∞: –î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å"
        except OverflowError:
            return "–û—à–∏–±–∫–∞: –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ"
        except SyntaxError:
            return "–û—à–∏–±–∫–∞: –ù–µ–≤–µ—Ä–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å"
        except Exception as e:
            return f"–û—à–∏–±–∫–∞: {str(e)}"
    
    def is_safe_expression(self, expression):
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –æ–ø–∞—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        dangerous = ['import', 'exec', 'eval', '__', 'open', 'file']
        return not any(danger in expression.lower() for danger in dangerous)
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏

### 1. –ö–æ–º–±–∏–Ω–∞—Ü–∏—è —Å –ø–æ–∏—Å–∫–æ–º

```python
user: "–ù–∞–π–¥–∏ —Ç–µ–∫—É—â–∏–π –∫—É—Ä—Å –¥–æ–ª–ª–∞—Ä–∞ –∫ –µ–≤—Ä–æ –∏ –≤—ã—á–∏—Å–ª–∏, —Å–∫–æ–ª—å–∫–æ –µ–≤—Ä–æ –ø–æ–ª—É—á–∏—Ç—Å—è –∑–∞ 500 –¥–æ–ª–ª–∞—Ä–æ–≤"

# –ê–≥–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–∏—Å–∫ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—É—Ä—Å–∞
search_result: "1 USD = 0.85 EUR"

# –ó–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
action: Calculator
action_input: "500 * 0.85"
observation: "425.0"

agent_response: "–ü—Ä–∏ —Ç–µ–∫—É—â–µ–º –∫—É—Ä—Å–µ 1 USD = 0.85 EUR, –∑–∞ 500 –¥–æ–ª–ª–∞—Ä–æ–≤ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ 425 –µ–≤—Ä–æ."
```

### 2. –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ —Ñ–∞–π–ª–æ–≤

```python
user: "–ü—Ä–æ—á–∏—Ç–∞–π —Ñ–∞–π–ª sales.csv –∏ –≤—ã—á–∏—Å–ª–∏ –æ–±—â—É—é —Å—É–º–º—É –ø—Ä–æ–¥–∞–∂"

# –ê–≥–µ–Ω—Ç —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª
file_content: "Product,Sales\nA,1000\nB,1500\nC,2000"

# –ò–∑–≤–ª–µ–∫–∞–µ—Ç —á–∏—Å–ª–∞ –∏ —Å—É–º–º–∏—Ä—É–µ—Ç
action: Calculator
action_input: "1000 + 1500 + 2000"
observation: "4500"

agent_response: "–û–±—â–∞—è —Å—É–º–º–∞ –ø—Ä–æ–¥–∞–∂ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 4500."
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–π

```python
# –•–æ—Ä–æ—à–æ: —á–µ—Ç–∫–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
"2 + 3 * 4"
"sqrt(16) + log(100)"
"(1000 * 1.05) ** 3"

# –ü–ª–æ—Ö–æ: –Ω–µ—è—Å–Ω—ã–µ –∏–ª–∏ —Å–ª–æ–∂–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
"calculate the thing with numbers"
"do some math with these values"
```

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö —á–∏—Å–µ–ª

```python
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞—É—á–Ω—É—é –Ω–æ—Ç–∞—Ü–∏—é –¥–ª—è –±–æ–ª—å—à–∏—Ö —á–∏—Å–µ–ª
"1.5e6 * 2.3e4"  # –í–º–µ—Å—Ç–æ 1500000 * 23000

# –û–∫—Ä—É–≥–ª—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
result = calculator.run("22 / 7")
formatted_result = round(float(result), 4)  # 3.1429
```

### 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```python
def validate_math_expression(expression):
    """–í–∞–ª–∏–¥–∞—Ü–∏—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è"""
    # –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
    allowed_chars = set('0123456789+-*/().** ')
    allowed_functions = ['sqrt', 'sin', 'cos', 'tan', 'log', 'exp', 'abs']
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤
    if not all(c in allowed_chars or c.isalpha() for c in expression):
        return False
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π
    for func in allowed_functions:
        expression = expression.replace(func, '')
    
    return True
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### 1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

```python
import logging

class LoggedCalculator:
    def __init__(self):
        self.logger = logging.getLogger('calculator')
        self.calculation_history = []
    
    def calculate(self, expression):
        self.logger.info(f"–í—ã—á–∏—Å–ª–µ–Ω–∏–µ: {expression}")
        
        try:
            result = eval(expression)
            self.logger.info(f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {result}")
            
            # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
            self.calculation_history.append({
                'expression': expression,
                'result': result,
                'timestamp': datetime.now()
            })
            
            return str(result)
            
        except Exception as e:
            self.logger.error(f"–û—à–∏–±–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è: {e}")
            return f"–û—à–∏–±–∫–∞: {str(e)}"
```

### 2. –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```python
class CalculatorMetrics:
    def __init__(self):
        self.total_calculations = 0
        self.successful_calculations = 0
        self.error_count = 0
        self.average_execution_time = 0
    
    def record_calculation(self, success, execution_time):
        self.total_calculations += 1
        
        if success:
            self.successful_calculations += 1
        else:
            self.error_count += 1
        
        # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
        self.average_execution_time = (
            (self.average_execution_time * (self.total_calculations - 1) + execution_time) 
            / self.total_calculations
        )
    
    def get_success_rate(self):
        if self.total_calculations == 0:
            return 0
        return self.successful_calculations / self.total_calculations * 100
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä" —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–≤, —Å–ø–æ—Å–æ–±–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞—Ç—å —Å —á–∏—Å–ª–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –Ω–∞–¥–µ–∂–Ω—É—é —Ä–∞–±–æ—Ç—É –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ –≤–∞—à–∏—Ö AI-—Å–∏—Å—Ç–µ–º–∞—Ö.

–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
- **–ß–µ—Ç–∫–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è** –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–º
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ—à–∏–±–æ–∫
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π** –¥–ª—è graceful degradation
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

{% hint style="info" %}
–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø–æ–º–æ—â–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –Ω–∞—à–µ–º—É [—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É –ø–æ —É—á–∞—Å—Ç–∏—é](broken-reference) –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
{% endhint %}
